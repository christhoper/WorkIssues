## 网络相关

* 一、HTTP报文结构是怎样的？
答： 和TCP相似，TCP传输的时候分为两个部分：TCP头和数据部分；HTTP也是**Header + Body**，具体就是：
【起始行 + 头部(首部) + 空行 + 实体】

但http请求报文和响应报文是有一定区别，因此分开介绍；
* 1、**起始行**
对于请求报文来说，类似这样：
【GET /home HTTP/1.1】
就是**请求方法**（GET、POST等）+ **路径** + **HTTP版本**；
对于响应报文来说，类似这样：
【HTTP/1.1 200 OK】
响应报文的起始行也叫做**状态行**，由**HTTP版本** + **状态码** + **原因**三部分组成。
（注意：在起始行中，每个部分之间用空格隔开，最后一个部分后面应该接一个换行，严格遵守**ABNF**语法规范）
* 2、**头部**
下面是请求头和响应头在报文中的位置；
请求头：
Method(GET/POST等)+空格+URI+空格+Version+换行    （这是请求行）
FieldName+:+FieldValue+换行    （这是请求头）
> .
> .
> .
换行   (这是空行)
以上组成了请求头在报文中的位置

响应头：
Version+空格+StatusCode+空格+Reason+换行     （这是状态行）
FieldName+:+FieldValue+换行      （这是响应头）
>.
>.
>.
换行 （这是空行）
以上组成了响应头在报文中的位置
**注意：**
>> .字段名不区分大小写
>>.字段名不允许出现空格，不可以出现下划线"_"
>>.字段名后面必须紧挨着":"

* 3、**空行**
空行用来分开头部和实体。如果在头部中间故意加一个空行会怎么样？如果这样操作的话，空行后面的内容全部被视为实体。

* 4、**实体**
就是具体的数据，也就是body部分；请求报文对应请求体，响应报文对应响应体。


* 二、如何理解HTTP的请求方法？
* 1、有哪些请求方法？
>>.GET：通常用来获取资源
>>.HEAD：获取资源的元信息
>>.POST：提交数据，即上传数据
>>.PUT：修改数据
>>.DELETE：删除资源（几乎用不到）
>>.CONNECT：建立连接隧道，用于代理服务器
>>.OPTIONS：列出可对资源实行的请求方法，用来跨域请求
>>.TRACE：追踪请求-响应的传输路径

* 2、GET和POST有什么区别？
从语义上区别：GET用来获取资源，而POST是上传数据
从其他地方区别：
>>.从缓存的角度，GET请求会被浏览主动缓存下来，留下历史记录，而POST默认不会。
>>.从编码的角度，GET只能进行URL编码，只能接收ASCII字符串，而POST没有限制。
>>.从参数的角度，GET一般放在URL中，因此不安全，而POST放在请求体中，更适合传输敏感信息。
>>.从**幂等性**的角度，GET是幂等的，而POST不是（幂等表示执行相同的操作，结果也是相同的）
>>.从TCP的角度，GET请求会把请求报文一次性发出去，而POST会分为两个TCP数据包，首先发header部分，如果服务器响应100（continue），然后再发body部分。


* 三、如何理解URI？
URI，全称为（Uniform Resource Identifier），也就是统一资源标识符，它的作用很简单，就是区分互联网上不同的资源。
但是它并不是我们常说的网址，网址指的是URL，实际上URI包含了URN和URL两部分，由于URL过于普及，就默认将URI视为URL了。

* 1、**URI的结构**
URI真正最完整的结构是这样的:
**scheme://**   **user:passwd@**  **host:port path ?query**  **#fragment** 

schem表示协议名，比如http，https，file等，后面必须和 :// 连接在一起
user:passwd@ 表示登录主机时的用户信息，不安全，不推荐使用
host:port 表示主机名和端口
path 表示请求路径，标记资源所在位置
query 表示查询参数，为 key=value 这种形式，多个键值对之间用&隔开
fragment 表示URI所定位的资源内的一个瞄点，浏览器可以根据这个瞄点跳转到对应的位置


* 2、**URI编码**
URI只能使用ASCII，ASCII之外的字符是不支持显示的，而且还有一部分符号是界定符，如果不加以处理就会导致解析出错；
因此，URI引入了编码机制，将所有非ASCII码字符和界定符转为16进制字节值，然后再前面加个 %；
比如，空格被转义成了 %20 等等。。。 


* 四、如何理解HTTP状态码？
RFC规定HTTP的状态码为三位数，被分为五类：
>>.1xx：表示目前协议处理中间状态，还需要后续操作。
>>.2xx：表示成功状态。
>>.3xx：重定向状态，资源位置发生变动，需要重新请求。
>>.4xx：请求报文发生错误。
>>.5xx：服务器发生错误。


* 五、简要概括一下HTTP的特点？HTTP有哪些缺点？
**特点：**
1、灵活可扩展，主要体现在两个方面。一个是语义上的自由，只规定了基本格式，比如空格分隔单词，换行分隔字段，其他的各个部分都没有严格的语法限制。另外一个是传输形式的多样性，不仅仅可以传输文本，还能传输图片、视频等任意数据
2、可靠传输。HTTP基于TCP/IP，因此把这一特性继承了下来，这属于TCP的特性。
3、请求-应答。也就是**一发一收，有来有回**
4、无状态。这里的状态是指通信过程的上下文信息，而每次http请求都是独立、无关的，默认不需要保留状态信息。

**缺点：**
1、无状态：所谓的优点和缺点还是分场景来看，对于HTTP而言，最具争议的地方在于它的无状态。
在需要长连接的场景中，需要保存大量的上下文信息，以免传输大量的重复信息，那么这时候的无状态就是http的缺点了；
但与此同时，另外一些应用仅仅只是为了获取一些数据，不需要保存连接上下文信息，无状态反而减少了网络开销，成为http的优点。
2、明文传输：即协议里的报文（主要指的是头部）不使用二进制数据，而是文本形式；这当然对于调试提供了便利，但同时也让HTTP的报文信息暴露给了外界，给攻击者提供了便利。**WIFI陷阱**就是利用HTTP明文传输的特点，诱导你连接上热点，然后疯狂抓你所有的流量，从而拿到你的敏感信息。
3、队头阻塞问题：当http开启长连接时，共用了一个TCP连接，同一时刻只能处理一个请求，那么当前请求耗时过长的情况下，其他的请求只能处于阻塞状态，这就是著名的**队头阻塞**问题。


* 六、对Accept系列字段了解多少？
对于Accept可以分为四个部分：**数据格式**，**压缩方式**，**支持语言**，**字符集**

* 1、数据格式
MIME标准：多用途互联网邮件扩展，可以让邮件发任意类型的数据，对于HTTP也是可以通用的
因此HTTP从 **MIME type**取了一部分来标记报文body部分的数据类型，这些类型体现在 **Content-Type**这个字段，当然这是针对于发送端而言，接收端想要收到特定类型的数据，也可以用 **Accept** 字段。
关于 **Content-Type** 和 **Accept**这两个字段，取值可以分为下面几类：
>>. text：text/html，text/plain，text/css等
>>.image：image/gif，image/jpeg，image/png等
>>.audio/video：audio/mpeg，video/mp4等
>>.application：application/json，application/javascript，application/pdf，application/octet-stream等

* 2、压缩方式
发送方采用什么样的压缩方式体现在 **Content-Encoding**字段上；同样的，接收方采用什么样的压缩方式，体现在 **Accept-Encoding** 字段上；方式主要有下面几种：
>>.gzip：当今最流行的压缩方式
>>.deflate：另外一种注明的压缩方式
>>.br：一种专门为HTTP发明的压缩方式

比如：
发送端：Content-Encoding: gzip
接收端：Accept-Encoding：gzip

* 3、


* 七、对于定长和不定长的数据，HTTP是怎么传输的？

* 八、HTTP如何处理大文件的传输？
对于几百M甚至上G的大文件来说，如果要一口气全部传输过来显然是不现实的，会有大量的等待时间，严重影响用户体验。因此，HTTP针对这一场景，采取了**范围请求**的解决方案，允许客户端仅仅请求一个资源的一部分。
**如何支持呢**
前提条件是服务器要支持**范围请求**，要支持这个功能，必须加上这样的一个响应头：**Accept-Ranges：None**  ，用来告知客户端，服务端是支持范围请求的


* 九、HTTP中如何处理表单数据的提交？

* 十、HTTP1.1如何解决HTTP的队头阻塞问题？

* 十一、对Cookie了解多少？

* 十二、如何理解HTTP代理？

* 十三、如何理解HTTP缓存及缓存代理？

* 十四、什么是跨域？浏览器如何拦截相应？如何解决？

* 十五、TLS1.2握手的过程是怎么样的？

* 十六、TLS1.3做了哪些改进？

* 十七、HTTP/2有哪些改进？

* 十八、HTTP/2中的二进制帧是如何设计的？

